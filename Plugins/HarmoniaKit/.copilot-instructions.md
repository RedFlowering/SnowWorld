# HarmoniaKit í”ŒëŸ¬ê·¸ì¸ - AI ì„¸ì…˜ ì°¸ê³  ë¬¸ì„œ

> ì´ ë¬¸ì„œëŠ” AI ì–´ì‹œìŠ¤í„´íŠ¸ê°€ HarmoniaKit í”ŒëŸ¬ê·¸ì¸ ì‘ì—… ì‹œ ì°¸ê³ í•˜ëŠ” ìš”ì•½ ë¬¸ì„œì…ë‹ˆë‹¤.

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”

- **í”„ë¡œì íŠ¸ëª…**: SnowWorld (Lyra ê¸°ë°˜)
- **í”ŒëŸ¬ê·¸ì¸ëª…**: HarmoniaKit
- **ì—”ì§„ ë²„ì „**: Unreal Engine 5.7
- **í”ŒëŸ¬ê·¸ì¸ ê²½ë¡œ**: `C:\Projects\SnowWorld\Plugins\HarmoniaKit`

---

## ğŸ—ï¸ í”ŒëŸ¬ê·¸ì¸ êµ¬ì¡°

```
HarmoniaKit/
â”œâ”€â”€ Source/
â”‚   â””â”€â”€ HarmoniaKit/
â”‚       â”œâ”€â”€ Public/         # í—¤ë” íŒŒì¼
â”‚       â”‚   â”œâ”€â”€ Combat/     # ì „íˆ¬ ì‹œìŠ¤í…œ
â”‚       â”‚   â”œâ”€â”€ Character/  # ìºë¦­í„° ì‹œìŠ¤í…œ
â”‚       â”‚   â”œâ”€â”€ Life/       # ìƒí™œ ì»¨í…ì¸  (ë‚šì‹œ, ì±„ì§‘ ë“±)
â”‚       â”‚   â”œâ”€â”€ AI/         # AI ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”œâ”€â”€ Online/     # ì˜¨ë¼ì¸ ì‹œìŠ¤í…œ
â”‚       â”‚   â”œâ”€â”€ Quest/      # í€˜ìŠ¤íŠ¸ ì‹œìŠ¤í…œ
â”‚       â”‚   â”œâ”€â”€ Dungeon/    # ë˜ì „ ì‹œìŠ¤í…œ
â”‚       â”‚   â””â”€â”€ Data/       # ë°ì´í„° ì •ì˜
â”‚       â””â”€â”€ Private/        # êµ¬í˜„ íŒŒì¼
â”œâ”€â”€ Content/                # ë¸”ë£¨í”„ë¦°íŠ¸, ë°ì´í„° ì• ì…‹
â”œâ”€â”€ Docs/                   # ë¬¸ì„œ
â”‚   â”œâ”€â”€ HarmoniaKit_Complete_Documentation.md  # í†µí•© ë¬¸ì„œ
â”‚   â”œâ”€â”€ Systems/            # ì‹œìŠ¤í…œë³„ ìƒì„¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ GettingStarted/     # ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ
â”‚   â””â”€â”€ Refactoring/        # ë¦¬íŒ©í† ë§ ê¸°ë¡
â””â”€â”€ HarmoniaKit.uplugin     # í”ŒëŸ¬ê·¸ì¸ ì„¤ì •
```

---

## ğŸ® í•µì‹¬ ì‹œìŠ¤í…œ ìš”ì•½

### 1. ì „íˆ¬ ì‹œìŠ¤í…œ

| ì»´í¬ë„ŒíŠ¸ | ì—­í•  | íŒŒì¼ |
|---------|------|------|
| `UHarmoniaBaseCombatComponent` | ì „íˆ¬ ê¸°ë³¸ í´ë˜ìŠ¤ | `HarmoniaBaseCombatComponent.h` |
| `UHarmoniaMeleeCombatComponent` | ê·¼ì ‘ ì „íˆ¬ | `HarmoniaMeleeCombatComponent.h` |
| `UHarmoniaSenseAttackComponent` | íˆíŠ¸ ê°ì§€ | `HarmoniaSenseAttackComponent.h` |
| `UHarmoniaGameplayAbility_ComboAttack` | ì½¤ë³´ ì–´ë¹Œë¦¬í‹° | `HarmoniaGameplayAbility_ComboAttack.h` |

**ì£¼ìš” ê¸°ëŠ¥**:
- 11ì¢… ë¬´ê¸° íƒ€ì… ì§€ì›
- GAS ê¸°ë°˜ ì–´ë¹Œë¦¬í‹° ì‹œìŠ¤í…œ
- SenseSystem ê¸°ë°˜ ë©€í‹°ìŠ¤ë ˆë“œ íˆíŠ¸ ê°ì§€
- íŒ¨ë¦¬, íšŒí”¼, ë¦¬í¬ìŠ¤íŠ¸, ë°±ìŠ¤íƒ­

### 2. ìºë¦­í„° ì‹œìŠ¤í…œ

| ì»´í¬ë„ŒíŠ¸ | ì—­í•  |
|---------|------|
| `UHarmoniaAttributeSet` | GAS AttributeSet (Health, Stamina, Mana, Poise ë“±) |
| `UHarmoniaRechargeableItemComponent` | ì¶©ì „ì‹ íšŒë³µ ì•„ì´í…œ (ì—ìŠ¤íˆ¬ìŠ¤ ìŠ¤íƒ€ì¼) |
| `UHarmoniaCurrencyManagerComponent` | í†µí™”(Souls) ê´€ë¦¬ |
| `UHarmoniaDeathPenaltyComponent` | ì‚¬ë§ íŒ¨ë„í‹° (í˜ˆí” ì‹œìŠ¤í…œ) |

### 3. ìƒí™œ ì»¨í…ì¸  ì‹œìŠ¤í…œ

| ì»´í¬ë„ŒíŠ¸ | ì—­í•  |
|---------|------|
| `UHarmoniaFishingComponent` | ë‚šì‹œ ì‹œìŠ¤í…œ |
| `UHarmoniaGatheringComponent` | ì±„ì§‘ ì‹œìŠ¤í…œ |
| `UHarmoniaCookingComponent` | ìš”ë¦¬ ì‹œìŠ¤í…œ |
| `UHarmoniaFarmingComponent` | ë†ì‚¬ ì‹œìŠ¤í…œ |
| `UHarmoniaMusicComponent` | ìŒì•…/ì—°ì£¼ ì‹œìŠ¤í…œ |

### 4. ì˜¨ë¼ì¸ ë° íŒ€ ì‹œìŠ¤í…œ

| í´ë˜ìŠ¤ | ì—­í•  |
|--------|------|
| `UHarmoniaOnlineSubsystem` | Steam/EOS í†µí•© |
| `UHarmoniaTeamManagementSubsystem` | ë™ì  íŒ€/ì§„ì˜ ê´€ë¦¬ |
| `IHarmoniaTeamAgentInterface` | íŒ€ ì¸í„°í˜ì´ìŠ¤ |

### 5. ê¸°íƒ€ ì£¼ìš” ì‹œìŠ¤í…œ

| ì‹œìŠ¤í…œ | í•µì‹¬ í´ë˜ìŠ¤ |
|--------|------------|
| í€˜ìŠ¤íŠ¸ | `UHarmoniaQuestComponent`, `FQuestData` |
| ë˜ì „/ë ˆì´ë“œ | `UHarmoniaDungeonComponent`, `FHarmoniaDungeonData` |
| ì œì‘ | `UHarmoniaCraftingComponent`, `FCraftingRecipeData` |
| ì €ì¥ | `UHarmoniaSaveGameSubsystem`, `IHarmoniaSaveableInterface` |
| ëª¨ë“œ | `UHarmoniaModSubsystem`, `UHarmoniaAssetOverrideSubsystem` |
| ì›”ë“œ ìƒì„± | `UHarmoniaWorldGeneratorSubsystem` |
| ì¹˜íŠ¸ | `UHarmoniaCheatManager` (Editor/Dev ì „ìš©) |

---

## ğŸ“Š ì£¼ìš” ë°ì´í„° êµ¬ì¡°ì²´

```cpp
// ë¬´ê¸° ë°ì´í„°
FHarmoniaMeleeWeaponData

// ì½¤ë³´ ê³µê²© ë°ì´í„°
FComboAttackData, FComboAttackStep

// í€˜ìŠ¤íŠ¸ ë°ì´í„°
FQuestData, FQuestPhase, FQuestCondition, FQuestObjective

// ë˜ì „ ë°ì´í„°
FHarmoniaDungeonData, FDungeonStageData

// ì œì‘ ë ˆì‹œí”¼
FCraftingRecipeData, FCraftingIngredient

// íŒ€ ì‹ë³„ì
FHarmoniaTeamIdentification

// íšŒë³µ ì•„ì´í…œ
FRechargeableItemData
```

---

## ğŸ”§ ì½”ë”© ì»¨ë²¤ì…˜

### ë„¤ì´ë° ê·œì¹™

- **ì»´í¬ë„ŒíŠ¸**: `UHarmonia[ê¸°ëŠ¥ëª…]Component`
- **ì–´ë¹Œë¦¬í‹°**: `UHarmoniaGameplayAbility_[ê¸°ëŠ¥ëª…]`
- **ì„œë¸Œì‹œìŠ¤í…œ**: `UHarmonia[ê¸°ëŠ¥ëª…]Subsystem`
- **ë°ì´í„° êµ¬ì¡°ì²´**: `FHarmonia[ë°ì´í„°ëª…]Data` ë˜ëŠ” `F[ë°ì´í„°ëª…]Data`
- **ì¸í„°í˜ì´ìŠ¤**: `IHarmonia[ì¸í„°í˜ì´ìŠ¤ëª…]Interface`

### íŒŒì¼ êµ¬ì„±

- **Definitions íŒŒì¼**: `Harmonia[ì‹œìŠ¤í…œëª…]Definitions.h` - Enum, Struct ì •ì˜
- **Component íŒŒì¼**: `Harmonia[ê¸°ëŠ¥ëª…]Component.h/.cpp` - ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- **Library íŒŒì¼**: `UHarmonia[ê¸°ëŠ¥ëª…]Library` - ì •ì  ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

### ë¹Œë“œ ì œí•œ

```cpp
// Shipping ë¹Œë“œì—ì„œ ì œì™¸í•  ì½”ë“œ
#if !UE_BUILD_SHIPPING
// ì¹˜íŠ¸, ë””ë²„ê·¸ ì½”ë“œ
#endif
```

---

## ğŸ“ ì‘ì—… ì‹œ ì°¸ê³ ì‚¬í•­

### ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ

1. `Source/HarmoniaKit/Public/` ì— í—¤ë” íŒŒì¼ ìƒì„±
2. `Source/HarmoniaKit/Private/` ì— êµ¬í˜„ íŒŒì¼ ìƒì„±
3. í•„ìš”í•œ ê²½ìš° Definitions íŒŒì¼ì— ë°ì´í„° êµ¬ì¡°ì²´ ì¶”ê°€
4. `Docs/Systems/` ì— ë¬¸ì„œ ì‘ì„±

### GAS í†µí•© ì‹œ

- `UHarmoniaAttributeSet` ì‚¬ìš©
- `UHarmoniaGameplayAbility` ê¸°ë°˜ ì–´ë¹Œë¦¬í‹° ìƒì„±
- GameplayTagëŠ” `HarmoniaKit` ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì‚¬ìš©

### ë„¤íŠ¸ì›Œí¬ ë³µì œ ì‹œ

- `UPROPERTY(Replicated)` ë˜ëŠ” `UPROPERTY(ReplicatedUsing=OnRep_XXX)` ì‚¬ìš©
- `GetLifetimeReplicatedProps()` êµ¬í˜„ í•„ìˆ˜
- ì„œë²„ ê¶Œí•œ í•¨ìˆ˜ëŠ” `UFUNCTION(Server, Reliable)` ì‚¬ìš©

### ë¸”ë£¨í”„ë¦°íŠ¸ ë…¸ì¶œ ì‹œ

- `UFUNCTION(BlueprintCallable, Category = "Harmonia|[ì¹´í…Œê³ ë¦¬ëª…]")`
- `UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Harmonia|[ì¹´í…Œê³ ë¦¬ëª…]")`

---

## ğŸ“š ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜

| ë¬¸ì„œ | ê²½ë¡œ |
|------|------|
| **í†µí•© ë¬¸ì„œ** | `Docs/HarmoniaKit_Complete_Documentation.md` |
| ì „íˆ¬ ì‹œìŠ¤í…œ | `Docs/Systems/CombatSystem.md` |
| ê·¼ì ‘ ì „íˆ¬ | `Docs/Systems/MeleeCombatSystem.md` |
| ì½¤ë³´ ê³µê²© | `Docs/Systems/ComboAttackSystem.md` |
| í€˜ìŠ¤íŠ¸ | `Docs/Systems/QuestSystem.md` |
| ë˜ì „/ë ˆì´ë“œ | `Docs/Systems/DungeonRaidSystem.md` |
| íŒ€ ì‹œìŠ¤í…œ | `Docs/TeamSystemUsageGuide.md` |
| ìƒí™œ ì»¨í…ì¸  | `LifeContents_Systems_Summary.md` |

---

## âš¡ ë¹ ë¥¸ ì½”ë“œ ì˜ˆì‹œ

### ê·¼ì ‘ ê³µê²© ì„¤ì •

```cpp
// ìºë¦­í„°ì— ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
UHarmoniaMeleeCombatComponent* MeleeCombatComp = CreateDefaultSubobject<UHarmoniaMeleeCombatComponent>(TEXT("MeleeCombatComp"));

// ê³µê²© ì‹¤í–‰
MeleeCombatComp->TryLightAttack();
MeleeCombatComp->TryHeavyAttack();
MeleeCombatComp->TryDodge();
```

### íŒ€ ì‹œìŠ¤í…œ ì‚¬ìš©

```cpp
UHarmoniaTeamManagementSubsystem* TeamSubsystem = GetWorld()->GetSubsystem<UHarmoniaTeamManagementSubsystem>();

// íŒ€ ìƒì„±
FHarmoniaTeamIdentification Team = TeamSubsystem->CreateFaction(FText::FromString("TeamName"), EHarmoniaTeamAttitude::Hostile, FLinearColor::Red);

// ê´€ê³„ ì„¤ì •
TeamSubsystem->MakeTeamsEnemies(Team1, Team2);
```

### í€˜ìŠ¤íŠ¸ ì§„í–‰

```cpp
UHarmoniaQuestComponent* QuestComp = Character->FindComponentByClass<UHarmoniaQuestComponent>();
QuestComp->AcceptQuest("QuestID");
QuestComp->UpdateQuestProgress("QuestID", "ObjectiveID", 1);
```

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-11-26
